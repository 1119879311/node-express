{"version":3,"sources":["components/ByCarousel/index.tsx","example/ByCarousel.tsx","components/ByButton/index.tsx"],"names":["ByCarousel","props","CR","itmes","DotsItmes","dir","speed","delay","easing","isDots","autoplay","change","carouselRef","useRef","ListRef","count","Array","isArray","children","length","index","useEffect","current","getBoundingClientRect","querySelector","style","height","cssText","width","querySelectorAll","i","setDotsActive","addEventListener","Timer","clearInterval","setInterval","autoplayFn","transition","transform","setTimeout","carousel","ids","classList","remove","add","j","__render","inde","map","itme","className","data-index","key","ref","_","onClick","clickDots","Test","state","margin","ByButton","setState","backgroundColor","this","from","v","k","React","Component","type","size","disabled","block","round","console","log","classStr","e","icon"],"mappings":"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","file":"static/js/9.22edf01c.chunk.js","sourcesContent":["import React, { useEffect, useRef } from \"react\"\r\nimport \"./index.less\"\r\ninterface IByCarousle {\r\n    dir?:string\r\n    speed?:number\r\n    delay?:number\r\n    easing?:string\r\n    isDots?:boolean\r\n    autoplay?:boolean\r\n    change?:Function\r\n    children?:any\r\n    className?:string\r\n}\r\n\r\nconst ByCarousel = (props:IByCarousle)=>{\r\n    let {dir=\"bottom\",speed=500,delay=3000,easing=\"ease\",isDots = true,autoplay=true,change = function(){}} = props\r\n    let carouselRef = useRef<HTMLDivElement>(null)\r\n    let ListRef = useRef<HTMLDivElement>(null)\r\n    let CR:DOMRect|null;\r\n    let  itmes:NodeListOf<HTMLDivElement>|null\r\n    let  DotsItmes:NodeListOf<HTMLDivElement>|null\r\n    let count = Array.isArray(props.children)?props.children.length*2:0\r\n    let index = 0\r\n    useEffect(()=>{\r\n        //获取容器宽度高度\r\n          // eslint-disable-next-line\r\n        CR = carouselRef.current!.getBoundingClientRect()\r\n        if(dir===\"left\"||dir===\"right\"){\r\n            let mainDom = carouselRef.current!.querySelector(\".by-carousel-main\") as HTMLDivElement\r\n            mainDom.style.height = `${CR.height}px`\r\n            ListRef.current!.style.cssText=`width:${CR.width}px;height:${CR.height*count}px`\r\n        }else{\r\n           \r\n            ListRef.current!.style.cssText=`width:${CR.width*count}px;height:${CR.height}px`\r\n        }\r\n        \r\n        //设置itme\r\n          // eslint-disable-next-line\r\n        itmes= carouselRef.current!.querySelectorAll(\".by-carousel-itme\")\r\n        // eslint-disable-next-line\r\n        DotsItmes = carouselRef.current!.querySelectorAll(\".by-carousel-dots-itme\")\r\n\r\n       for(let i =0;i<itmes.length;i++){\r\n            itmes[i].style.cssText=`width:${CR.width}px;height:${CR.height}px`\r\n         \r\n       }\r\n       setDotsActive()\r\n       carouselRef.current!.addEventListener(\"mouseenter\",function(){\r\n           Timer&&clearInterval(Timer)\r\n       },false)\r\n       carouselRef.current!.addEventListener(\"mouseleave\",function(){\r\n            autoplay&&(Timer = setInterval(autoplayFn,delay))\r\n        },false)\r\n       //定时器\r\n       let  Timer:any = null\r\n\r\n       const autoplayFn = ()=>{\r\n            index++;\r\n            if(index>count/2){ //4\r\n                ListRef.current!.style.transition = ''\r\n                ListRef.current!.style.transform = `translate3d(0,0,0)`\r\n                // eslint-disable-next-line\r\n                index = 1\r\n               \r\n            }\r\n            setTimeout(()=>{\r\n                carousel()\r\n            },5)\r\n           \r\n       }\r\n       if(autoplay){\r\n            Timer = setInterval(autoplayFn,delay)\r\n            return ()=>{\r\n                clearInterval(Timer)\r\n            }\r\n       }\r\n       \r\n    },[dir,autoplay])\r\n    // 设置当前指示点激活\r\n    const setDotsActive = (ids=0)=>{\r\n          // eslint-disable-next-line\r\n        DotsItmes = DotsItmes||carouselRef.current!.querySelectorAll(\".by-carousel-dots-itme\")\r\n        for(let i=0;i<DotsItmes?.length;i++){\r\n            DotsItmes![i].classList.remove(\"active\")\r\n        }\r\n        DotsItmes![ids]?.classList.add(\"active\")\r\n    }\r\n    // 滑动\r\n    const carousel = ()=>{\r\n        CR = CR||carouselRef.current!.getBoundingClientRect()\r\n        ListRef.current!.style.transition = `transform ${speed}ms ${easing}`\r\n        if(dir===\"left\"||dir===\"right\"){\r\n            ListRef.current!.style.transform = `translate3d(0,-${CR!.height*index}px,0)`\r\n        }else{\r\n            ListRef.current!.style.transform = `translate3d(-${CR!.width*index}px,0,0)`\r\n        }\r\n        let j = index===count/2?0:index\r\n        change&&change(j)\r\n        setDotsActive(j)\r\n    }\r\n    // 点击指示点事件\r\n    const clickDots = (ids:number)=>{\r\n         // eslint-disable-next-line\r\n        index= ids\r\n        carousel()\r\n    }\r\n    // 渲染\r\n    function __render(inde:number){\r\n        if(!Array.isArray(props.children)) return ''\r\n        return   props.children.map((itme,ids)=>{\r\n            return <div className=\"by-carousel-itme\"  data-index={ids+inde} key={ids}>{itme}</div>\r\n        })\r\n    }\r\n    //渲染指示点\r\n    function __renderDots(){\r\n        if(!isDots) return ''\r\n        return <ul className=\"by-carousel-dots\">\r\n                {Array.isArray(props.children)?\r\n                    props.children.map((_,ids)=>{\r\n                         return <li className=\"by-carousel-dots-itme\" key={ids} onClick={()=>clickDots(ids)}></li>\r\n                    })\r\n                :''} \r\n            </ul>\r\n    }\r\n\r\n    return (\r\n        <div className={`by-carousel by-carousel-${dir}`} ref={carouselRef}>\r\n            <div className=\"by-carousel-warp\">\r\n                <div className=\"by-carousel-main\">\r\n                    <div className=\"by-carousel-list\" ref={ListRef}>\r\n                        {__render(0)}\r\n                        {__render(props.children?.length)}\r\n                    </div>\r\n                </div>\r\n                {__renderDots()}\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ByCarousel","import  React  from \"react\";\r\n\r\nimport ByButton from \"@/components/ByButton\";\r\n\r\nimport ByCarousel from \"@/components/ByCarousel\";\r\n\r\ninterface ITestProps {}\r\n\r\ninterface ITestState {\r\n    dir:string\r\n}\r\nclass Test extends React.Component<ITestProps,ITestState> {\r\n    state = {\r\n        dir:\"left\",\r\n      \r\n    }\r\n \r\n    render(){\r\n       \r\n        return <div style={{margin:\"20px\"}}>\r\n          \r\n            <ByButton  onClick={()=>this.setState({dir:\"left\"})}>  left</ByButton>\r\n            <ByButton  onClick={()=>this.setState({dir:\"top\"})}>  top</ByButton>\r\n            <ByButton  onClick={()=>this.setState({dir:\"right\"})}>  right</ByButton>\r\n            <ByButton  onClick={()=>this.setState({dir:\"bottom\"})}>  bottom</ByButton>\r\n               <div style={{margin:\"0 auto\",backgroundColor:'aqua'}}>\r\n                    <ByCarousel dir={this.state.dir}>\r\n                        {Array.from(Array(3), (v,k) =><div key={k} style={{height:\"100px\"}}>{k}</div>)}\r\n                    </ByCarousel>\r\n               </div>\r\n              \r\n\r\n        </div>\r\n    }\r\n}   \r\n\r\nexport default Test","import React, { ReactNode } from \"react\"\r\nimport \"./index.css\"\r\n\r\ninterface IByButton{\r\n    size?:\"lager\"|\"small\",\r\n    type?:\"primary\"|\"danger\"|\"warning\"|\"success\",\r\n    icon?:string|ReactNode\r\n    disabled?:boolean\r\n    round?:boolean\r\n    block?:boolean\r\n    onClick?:Function,\r\n    children?:any,\r\n    [key:string]:any\r\n}\r\n\r\nconst ByButton = (props:IByButton)=>{\r\n    let {type,size,disabled=false,block=false,round= false,onClick=function(){}} = props\r\n    console.log(disabled)\r\n    let classStr = type?` ${' by-btn-'+type} `:'';\r\n    classStr = classStr + (size? ` by-btn-${size} `:'');\r\n    classStr = classStr + (block? ` by-btn-block `:'');\r\n    classStr = classStr + (round? ` by-btn-round `:'');\r\n\r\n    classStr = classStr + (disabled? ` by-btn-disabled `:'');\r\n    return (\r\n        <button  type=\"button\" className={`by-btn ${classStr} `} disabled={disabled}  onClick={(e)=>onClick(e)} >\r\n            {props.icon? props.icon:''}\r\n            {props.children?<span>{props.children}</span>:''}\r\n        </button>\r\n    )\r\n}\r\n\r\nexport default ByButton"],"sourceRoot":""}